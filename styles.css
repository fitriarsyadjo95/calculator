:root {
  --bg: #0b1220;        /* slate-950-ish */
  --bg-soft: #111827;   /* slate-900 */
  --panel: #0f172a;     /* slate-900/800 */
  --text: #e5e7eb;      /* gray-200 */
  --muted: #94a3b8;     /* slate-400 */
  --key: #1f2937;       /* gray-800 */
  --key-hover: #374151; /* gray-700 */
  --accent: #ef4444;    /* red-500 */
  --op: #0ea5e9;        /* sky-500 */
  --equals: #10b981;    /* emerald-500 */
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f8fafc; --bg-soft: #f1f5f9; --panel: #ffffff; --text: #0f172a; --muted: #64748b;
    --key: #e5e7eb; --key-hover: #d1d5db; --accent: #ef4444; --op: #0284c7; --equals: #059669;
  }
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
  background: radial-gradient(1200px 600px at 50% -10%, var(--bg-soft), var(--bg));
  color: var(--text); display: grid; place-items: center; padding: 16px;
}

.app { width: 100%; max-width: 420px; display: grid; gap: 12px; }
.topbar { display: flex; justify-content: space-between; align-items: center; }
.topbar h1 { font-size: 1.1rem; margin: 0; font-weight: 700; }
.topbar button { background: transparent; border: 1px solid var(--muted); color: var(--text); padding: 6px 10px; border-radius: 10px; cursor: pointer; }

.display {
  background: var(--panel); border-radius: 16px; padding: 16px; min-height: 96px;
  display: grid; align-content: center; gap: 6px; box-shadow: 0 10px 30px rgba(0,0,0,.2);
}
.expr { color: var(--muted); min-height: 22px; overflow-wrap: anywhere; }
.result { font-size: clamp(28px, 7vw, 42px); font-weight: 700; text-align: right; }

.keys {
  display: grid; gap: 10px; grid-template-columns: repeat(4, 1fr);
}
.keys button {
  -webkit-tap-highlight-color: transparent;
  aspect-ratio: 1 / 1; border: none; border-radius: 16px; font-size: 1.1rem; font-weight: 600;
  background: var(--key); color: var(--text); cursor: pointer; box-shadow: 0 8px 18px rgba(0,0,0,.15);
}
.keys button:active { transform: translateY(1px); }
.keys button:hover { background: var(--key-hover); }

.keys .op { background: color-mix(in srgb, var(--op) 25%, var(--key)); }
.keys .accent { background: color-mix(in srgb, var(--accent) 25%, var(--key)); }
.keys .muted { opacity: .9; }
.keys .zero { grid-column: span 2; aspect-ratio: auto; }
.keys .equals { grid-column: 1 / -1; background: var(--equals); color: white; font-size: 1.25rem; padding: 14px 0; }

.foot { text-align: center; color: var(--muted); }